<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal Hub</title>
<style>
body, html {
  margin: 0; padding: 0; height: 100%; font-family: Arial, sans-serif;
  background: url('clideo_editor_a113c19867f2476d955c9cc72a3afcc0-ezgif.com-crop.gif') no-repeat center center fixed;
  background-size: cover; overflow: hidden;
}

#passwordModal {
  display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.7); justify-content: center; align-items: center; z-index: 1000;
}

#passwordBox {
  background: #111; padding: 30px; border-radius: 12px; text-align: center; color: #fff;
}

#controls {
  display: none; position: absolute; top: 10px; left: 50%; transform: translateX(-50%);
  z-index: 500; text-align: center;
}

#siteDropdown, #musicButton, #musicToggle {
  background: #222; color: #ddd; border: none; padding: 10px 20px;
  border-radius: 8px; cursor: pointer; font-weight: bold; margin: 5px;
}

#siteDropdown:hover, #musicButton:hover, #musicToggle:hover { background: #555; }

#iframeContainer {
  position: absolute; top: 100px; left: 0; width: 100%; height: calc(100% - 100px); z-index: 100;
}

iframe { width: 100%; height: 100%; border: none; }
</style>
</head>
<body>

<!-- Password Modal -->
<div id="passwordModal">
  <div id="passwordBox">
    <h2>Enter Password</h2>
    <input type="password" id="passwordInput">
    <button id="passwordSubmit">Submit</button>
  </div>
</div>

<!-- Controls: Dropdown + Music -->
<div id="controls">
  <select id="siteDropdown">
    <option value="">-- Select Portal --</option>
    <option value="https://kaikaikitan.onrender.com">Portal 1</option>
    <option value="https://newsigmatism.onrender.com">Portal 2</option>
    <option value="https://sigmatism-ovq4.onrender.com">Portal 3</option>
    <option value="https://snorlaxs-cave-v4-dbef.onrender.com">Portal 4</option>
  </select>
  <button id="musicButton">Enable Music</button>
  <button id="musicToggle">Toggle Music</button>
</div>

<!-- Embed Iframe -->
<div id="iframeContainer">
  <iframe id="iframe" src=""></iframe>
</div>

<!-- Background Music -->
<audio id="bgMusic" loop>
  <source src="videoplayback.mp3" type="audio/mpeg">
</audio>

<script>
const correctPassword = "KAIKAIKITAN";
const passwordModal = document.getElementById('passwordModal');
const passwordInput = document.getElementById('passwordInput');
const passwordSubmit = document.getElementById('passwordSubmit');
const controls = document.getElementById('controls');
const siteDropdown = document.getElementById('siteDropdown');
const musicButton = document.getElementById('musicButton');
const musicToggle = document.getElementById('musicToggle');
const bgMusic = document.getElementById('bgMusic');
const iframe = document.getElementById('iframe');
let musicPlaying = false;

// Password check
passwordSubmit.addEventListener('click', () => {
  if(passwordInput.value === correctPassword){
    passwordModal.style.display = 'none';
    controls.style.display = 'block';
  } else {
    alert("Wrong password!");
    passwordInput.value = "";
  }
});

// Music controls
musicButton.addEventListener('click', () => {
  bgMusic.play();
  musicPlaying = true;
  musicButton.style.display = 'none';
  musicToggle.style.display = 'inline-block';
});

musicToggle.addEventListener('click', () => {
  if(musicPlaying){
    bgMusic.pause();
    musicPlaying = false;
  } else {
    bgMusic.play();
    musicPlaying = true;
  }
});

// Dropdown navigation
siteDropdown.addEventListener('change', () => {
  if(siteDropdown.value) {
    iframe.src = siteDropdown.value;
  }
});
</script>
</body>
</html>
